<div class="container">
	<div class="row">
		<form ng-submit="submitEditGameSettingsForm()" id="edit-game-settings-form" class="col-md-6 col-md-offset-3" name="editgamesettings">
			<div class="panel panel-primary">
				<div class="panel-heading">
					<h2 class="form-edit-heading">Edit your game settings</h2>
				</div>
				<div class="panel-body">
					<div class="col-md-12 alert alert-info">
						<strong>Info:</strong> You can only select up to 3 characters.
					</div>
					<% for(var i=0; i<games.length; i++) { %>
					<div class="row">
						<div class="col-md-12">
							<a ng-click="selectGame('<%=games[i].id%>','<%=i%>')">
								<% if (games[i].favorite) { %>
									<img src="/images/game/<%=games[i].picture%>" 
									class="img-responsive gameSelected game center-block" id="gameImg<%=i%>">
								<% } else { %>
									<img src="/images/game/<%=games[i].picture%>" 
									class="img-responsive gameNotSelected game center-block" id="gameImg<%=i%>">
								<% } %>
							</a>
						</div>
						<div id="gameChar<%=i%>"
							class="<%=games[i].favorite ? '' : 'hidden'%> someMargin">
							<% for(var j=0; j<games[i].characters.length; j++) { %>
							<div class="col-md-3 col-sm-2 col-xs-3">
								<% if (games[i].characters[j].favorite) { %>
									<div 
									style="background-image: url('/images/character/<%=games[i].characters[j].picture%>');" 
									class="charSpriteSelected char charSprite" 
									ng-click="selectChar('<%=games[i].characters[j].id%>', '<%=i%>','<%=j%>')" 
									id="game<%=i%>char<%=j%>"></div>
								<% } else { %>
									<div 
									style="background-image: url('/images/character/<%=games[i].characters[j].picture%>');" 
									class="charSpriteNotSelected char charSprite" 
									ng-click="selectChar('<%=games[i].characters[j].id%>', '<%=i%>','<%=j%>')" 
									id="game<%=i%>char<%=j%>"></div>
								<% } %>
							</div>
							<% } %>
						</div>
					</div>
					<% } %>

					<div class="col-md-12 col-sm-12 col-xs-12 someMargin">
						<button class="btn btn-primary btn-lg btn-block" type="submit">
							<span ng-show="!editGameSettingsForm.loading">Save game settings</span>
							<span class="overlord-loading-spinner fa fa-spinner" ng-show="editGameSettingsForm.loading" ></span>
							<span ng-show="editGameSettingsForm.loading">Saving your game settings...</span>
						</button>
					</div>

					<input type="hidden" name="_csrf" value="<%=_csrf%>" ng-model="editGameSettingsForm._csrf" />
					<input type="hidden" name="userId" ng-init=" editGameSettingsForm.userId = '<%=me%>'" ng-model="editGameSettingsForm.userId" />
				</div>
			</div>
		</form>
	</div>
</div>