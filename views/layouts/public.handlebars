<!DOCTYPE html>
<html>
  <head>
    <title>Fight DB</title>

    <!-- Viewport mobile tag for sensible mobile support -->
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

    <!--STYLES-->
    <link rel="stylesheet" href="/styles/angular-toastr.css">
    <link rel="stylesheet" href="/styles/bootstrap.css">
    <link rel="stylesheet" href="/styles/importer.css">
    <!--STYLES END-->

    <!--Added this so the client has access to the csrf tag and it's grabbed first service side on every page -->
    <script type="text/javascript">
    window.SAILS_LOCALS = { _csrf: "{{_csrf}}" };
    </script>

  </head>

  <body ng-app="{{pageName}}Module" ng-controller="{{pageName}}Controller" ng-cloak>
    <!-- Creates the navbar -->
    <nav class="navbar navbar-default navbar-inverse">
      <div class="container">
        <div class="navbar-header">
          <!-- This creates the mechanism for collapse button -->
          <button type="button" class="navbar-toggle" data-toggle="collapse" ng-init="navCollapsed = true" ng-click="navCollapsed = !navCollapsed">
            <!-- This controls the number of lines in the image when the nav collapse -->
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>

          <!-- This is the brand on the left-hand side. -->
          <a class="navbar-brand" href="/"> Fight DB</a>
        </div>
        {{#if displayLogin}}
        <div ng-controller="LoginController" class="collapse navbar-collapse" ng-class="!navCollapsed && 'in'">
          <form ng-submit="submitLoginForm()" class="navbar-form navbar-right">
            <div class="form-group">
              <input ng-model="loginForm.email" type="text" placeholder="Email" name="email" class="form-control">
            </div>
            <div class="form-group">
              <input ng-model="loginForm.password" type="password" placeholder="Password" name="password" class="form-control">
            </div>
            <button type="submit" class="btn btn-success">
              <span ng-show="!loginForm.loading">Log in</span>
              <span ng-show="loginForm.loading" class="fa fa-spinner"></span>
              <span ng-show="loginForm.loading">Logging in...</span>
            </button>
            <input type="hidden" name="_csrf" value="{{ _csrf }}" />
          </form>
        </div>
        {{/if}}
      </div>
    </nav>

    {{{ body }}}

    {{> footer }}

    <!--SCRIPTS-->
    <script src="/js/dependencies/sails.io.js"></script>
    <script src="/js/dependencies/jquery-2.1.3.min.js"></script>
    <script src="/js/dependencies/angular.js"></script>
    <script src="/js/dependencies/angular-toastr.js"></script>
    <script src="/js/dependencies/bootstrap.js"></script>
    <script src="/js/dependencies/compareTo.module.js"></script>
    <script src="/js/public/signup/SignupModule.js"></script>
    <script src="/js/private/dashboard/DashboardModule.js"></script>
    <script src="/js/public/homepage/HomepageModule.js"></script>
    <script src="/js/private/user/UserModule.js"></script>
    <script src="/js/private/statistics/StatisticsModule.js"></script>
    <script src="/js/private/group/GroupModule.js"></script>
    <script src="/js/private/dashboard/DashboardController.js"></script>
    <script src="/js/private/group/GroupController.js"></script>
    <script src="/js/private/socketApp.js"></script>
    <script src="/js/private/statistics/StatisticsController.js"></script>
    <script src="/js/private/user/UserController.js"></script>
    <script src="/js/public/homepage/HomepageController.js"></script>
    <script src="/js/public/login/LoginController.js"></script>
    <script src="/js/public/signup/SignupController.js"></script>
    <!--SCRIPTS END-->
  </body>
</html>
